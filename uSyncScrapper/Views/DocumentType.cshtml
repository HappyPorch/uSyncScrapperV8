@model uSyncScrapper.Models.DocumentType

@{
    var index = 1;
}

<h3><a name="@Model.Name">@Model.Name</a> <span class="grey">doctype and template</span></h3>
<p>@Model.Description</p>

<h4>Structure:</h4>
<ul>
    <li>
        <span class="property-title">Allowed parent doctypes:</span>
        @foreach (var parent in Model.ParentDocTypes)
        {
            var text = parent + ", ";
            @text
        }
        @if (!Model.ParentDocTypes.Any())
        {
            <text>none</text>
        }
    </li>
    <li>
        <span class="property-title">Allowed child doctypes:</span>
        @foreach (var child in Model.ChildDocTypes)
        {
            var text = child + ", ";
            @text
        }
        @if (!Model.ChildDocTypes.Any())
        {
            <text>none</text>
        }
    </li>
</ul>

<h4>Properties:</h4>

<ul>
    @foreach (var item in Model.Properties)
    {
        string text = item.Text;
        text = text.TrimEnd('.') + (string.IsNullOrEmpty(text) ? "" : ".");
        var maxItemsText = item.Type == "Umbraco.NestedContent" || item.Type.StartsWith("Umbraco.MultiNodeTreePicker") ?
            (item.MaxItems > 0 ?
            string.Format("At most {0} '{1}' can be added.", item.MaxItems, item.Name) :
            "There is no limit on the number of items that can be added.")
            : "";
        <li>
            <span class="property-title">@item.Name:</span> @text @maxItemsText Can be set at the '@item.Name' property of the '@item.Tab' tab.
        </li>
        index++;
    }
</ul>